<Window x:Class="AgroCulture.Views.StaffEditWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Редактировать сотрудника"
        Width="500" Height="400"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent">

    <Window.Resources>
        <DropShadowEffect x:Key="WindowShadow" 
                         BlurRadius="20" 
                         ShadowDepth="5" 
                         Opacity="0.3"/>
    </Window.Resources>

    <Border CornerRadius="12" Background="White">
        <Border.Effect>
            <StaticResource ResourceKey="WindowShadow"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- HEADER -->
            <Border Grid.Row="0" CornerRadius="12,12,0,0" Padding="24,16">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                        <GradientStop Color="#1E40AF" Offset="0"/>
                        <GradientStop Color="#3B82F6" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>

                <Grid>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                        <materialDesign:PackIcon Kind="AccountEdit" 
                                                Width="24" Height="24" 
                                                Foreground="White" VerticalAlignment="Center"/>
                        <TextBlock Text="Редактировать сотрудника" 
                                  FontSize="20" FontWeight="Medium"
                                  Foreground="White" Margin="12,0,0,0" 
                                  VerticalAlignment="Center"/>
                    </StackPanel>

                    <Button HorizontalAlignment="Right" 
                           Style="{StaticResource MaterialDesignFlatButton}"
                           Click="BtnClose_Click"
                           Width="32" Height="32" Padding="0">
                        <materialDesign:PackIcon Kind="Close" 
                                                Width="20" Height="20" 
                                                Foreground="White"/>
                    </Button>
                </Grid>
            </Border>

            <!-- CONTENT -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="24,16">
                <StackPanel>
                    <!-- Роль -->
                    <StackPanel Margin="0,0,0,16">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                            <materialDesign:PackIcon Kind="Shield" Width="16" Height="16" 
                                                    Foreground="#6B7280" VerticalAlignment="Center"/>
                            <TextBlock Text="Роль" FontSize="14" Foreground="#6B7280" Margin="8,0,0,0"/>
                            <TextBlock Text=" *" Foreground="#EF4444" FontSize="14"/>
                        </StackPanel>

                        <ComboBox x:Name="CmbRole" 
                                 Style="{StaticResource MaterialDesignOutlinedComboBox}"
                                 materialDesign:HintAssist.Hint="Выберите роль"
                                 Height="56">
                            <ComboBoxItem Content="Менеджер" Tag="manager"/>
                            <ComboBoxItem Content="Администратор" Tag="admin"/>
                        </ComboBox>
                    </StackPanel>

                    <!-- Логин -->
                    <StackPanel Margin="0,0,0,16">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                            <materialDesign:PackIcon Kind="Account" Width="16" Height="16" 
                                                    Foreground="#6B7280" VerticalAlignment="Center"/>
                            <TextBlock Text="Логин" FontSize="14" Foreground="#6B7280" Margin="8,0,0,0"/>
                            <TextBlock Text=" *" Foreground="#EF4444" FontSize="14"/>
                        </StackPanel>

                        <TextBox x:Name="TxtUsername" 
                                Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                materialDesign:HintAssist.Hint="username"
                                Height="56"
                                Padding="12,0"
                                VerticalContentAlignment="Center"/>
                    </StackPanel>

                    <!-- ФИО -->
                    <StackPanel Margin="0,0,0,16">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                            <materialDesign:PackIcon Kind="AccountCircle" Width="16" Height="16" 
                                                    Foreground="#6B7280" VerticalAlignment="Center"/>
                            <TextBlock Text="ФИО" FontSize="14" Foreground="#6B7280" Margin="8,0,0,0"/>
                            <TextBlock Text=" *" Foreground="#EF4444" FontSize="14"/>
                        </StackPanel>

                        <TextBox x:Name="TxtFullName" 
                                Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                materialDesign:HintAssist.Hint="Иванов Иван Иванович"
                                Height="56"
                                Padding="12,0"
                                VerticalContentAlignment="Center"/>
                    </StackPanel>

                    <!-- Подсказка -->
                    <Border Background="#EFF6FF" BorderBrush="#BFDBFE" BorderThickness="1"
                           CornerRadius="8" Padding="12">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="InformationOutline" 
                                                    Width="16" Height="16" 
                                                    Foreground="#3B82F6" 
                                                    VerticalAlignment="Center"/>
                            <TextBlock Text="Для смены пароля используйте отдельную функцию в профиле сотрудника"
                                      FontSize="12" Foreground="#1E40AF" 
                                      Margin="8,0,0,0" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>

            <!-- FOOTER -->
            <Border Grid.Row="2" BorderBrush="#E5E7EB" BorderThickness="0,1,0,0" 
                   Padding="24,16" Background="#F9FAFB">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="12"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Button Grid.Column="0" Click="BtnCancel_Click"
                           Style="{StaticResource MaterialDesignOutlinedButton}"
                           Height="44">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Close" Width="18" Height="18" Margin="0,0,8,0"/>
                            <TextBlock Text="Отмена"/>
                        </StackPanel>
                    </Button>

                    <Button Grid.Column="2" Click="BtnSave_Click"
                           Style="{StaticResource MaterialDesignRaisedButton}"
                           Height="44">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                <GradientStop Color="#1E40AF" Offset="0"/>
                                <GradientStop Color="#3B82F6" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.Background>

                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="ContentSave" Width="18" Height="18" Margin="0,0,8,0"/>
                            <TextBlock Text="Сохранить"/>
                        </StackPanel>
                    </Button>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
