# üîß –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è SHA256 —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–æ–π—Ç–∏ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏.

**–ü—Ä–∏—á–∏–Ω–∞:** –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ, –∞ –∫–æ–¥ —Ç–µ–ø–µ—Ä—å –∏—â–µ—Ç SHA256 —Ö–µ—à–∏.

## ‚úÖ –†–ï–®–ï–ù–ò–ï (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç)

---

## üöÄ –í–ê–†–ò–ê–ù–¢ 1: –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –≤ –ë–î (–†–ï–ö–û–ú–ï–ù–î–£–Æ)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ SQL Server Management Studio
- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –≤–∞—à–µ–º—É SQL Server

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `update_passwords_FIXED.sql`
2. –ù–∞–∂–º–∏—Ç–µ **Execute (F5)**

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ –ê–¥–º–∏–Ω –æ–±–Ω–æ–≤–ª–µ–Ω: admin / admin
‚úÖ –ú–µ–Ω–µ–¥–∂–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω: manager / 1111
‚úÖ –ì–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω: guest / guest
```

### –®–∞–≥ 4: –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É

**–¢–µ—Å—Ç–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏:**
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:** `admin` / `admin`
- **–ú–µ–Ω–µ–¥–∂–µ—Ä:** `manager` / `1111` ‚ö†Ô∏è (–ø–∞—Ä–æ–ª—å 1111, –Ω–µ manager!)
- **–ì–æ—Å—Ç—å:** `guest` / `guest`

---

## üîÑ –í–ê–†–ò–ê–ù–¢ 2: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î:

### –í —Ñ–∞–π–ª–µ `Services/DatabaseService.cs` —Å—Ç—Ä–æ–∫–∞ 61:

**–ë—ã–ª–æ (—Å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º):**
```csharp
if (PasswordHasher.VerifyPassword(password, dbPasswordHash))
```

**–ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ (–±–µ–∑ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è):**
```csharp
if (password.Trim() == dbPasswordHash)
```

### –í —Ñ–∞–π–ª–µ `Services/PasswordHasher.cs`:

**–ë—ã–ª–æ:**
```csharp
public static string HashPassword(string password)
{
    // ... SHA256 –∫–æ–¥ ...
}
```

**–ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞:**
```csharp
public static string HashPassword(string password)
{
    return password.Trim(); // –ü—Ä–æ—Å—Ç–æ–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –±–µ–∑ —Ö–µ—à–∞
}
```

**–¢–æ–≥–¥–∞ –º–æ–∂–Ω–æ –≤–æ–π—Ç–∏:**
- admin / admin
- manager / 1111
- guest / guest (–µ—Å–ª–∏ IsActive=1 –≤ –ë–î)

---

## ‚ö° –í–ê–†–ò–ê–ù–¢ 3: –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ë–î —Å —Ö–µ—à–∞–º–∏

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —á–∏—Å—Ç—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É:

### 1. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é –ë–î:
```sql
DROP DATABASE [AgroCulture]
GO
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∏–∑ `AAAAAAA.sql`

### 3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ `update_passwords_FIXED.sql`

### 4. –ì–æ—Ç–æ–≤–æ! –í—Å–µ –ø–∞—Ä–æ–ª–∏ —Ç–µ–ø–µ—Ä—å –≤ –≤–∏–¥–µ —Ö–µ—à–µ–π

---

## üìä –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –ø—Ä–æ–µ–∫—Ç–µ?

### ‚úÖ –£–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
- –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è SHA256 –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- –í –ë–î —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ö–µ—à–∏, –Ω–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–∞—Ä–æ–ª–∏
- –ü—Ä–∏ –≤—Ö–æ–¥–µ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è —Ö–µ—à–∏

### üìù –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:
- `Services/PasswordHasher.cs` - SHA256 —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- `Services/DatabaseService.cs` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ö–µ—à–µ–π
- `ViewModels/StaffViewModel.cs` - —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- `Views/ProfilePage.xaml.cs` - —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ –ø–∞—Ä–æ–ª—è

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–î–ª—è –∫—É—Ä—Å–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã:**

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–ê–†–ò–ê–ù–¢ 1** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–≠—Ç–æ –¥–æ–±–∞–≤–∏—Ç –±–∞–ª–ª–æ–≤ –Ω–∞ –∑–∞—â–∏—Ç–µ:
- "–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π"
- "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω SHA256 –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è"
- "–ü–∞—Ä–æ–ª–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ"

---

## ‚ùì –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ë–î `AgroCulture` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ `App.config`
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ Output –æ–∫–Ω–æ –≤ Visual Studio –ø—Ä–∏ –≤—Ö–æ–¥–µ
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ SQL —Å–∫—Ä–∏–ø—Ç

**–î–ª—è –æ—Ç–ª–∞–¥–∫–∏:** –≤ `DatabaseService.cs` —Å—Ç—Ä–æ–∫–∞ 59 –µ—Å—Ç—å Debug.WriteLine - —Å–º–æ—Ç—Ä–∏—Ç–µ Output –æ–∫–Ω–æ Visual Studio!

---

**–í–µ—Ä—Å–∏—è:** 2.0
**–î–∞—Ç–∞:** 2025-11-10
